
{{define "notes-list"}}
<div class="mx-auto pt-10 max-w-xl w-full flex flex-col items-center gap-8">
  <header class="w-full flex justify-between items-center">
    <h2 class="text-3xl font-bold">My Notes</h2>
    <button class="btn btn-sm btn-secondary" onclick="createNoteModal.showModal()"> 
      + Note
    </button>
  </header>

  {{with .error}}
  <div class="w-full bg-error/40 border border-error py-4 px-8 text-lg card text-white">
      {{.}}
  </div>
  {{end}}

  {{range .notes}}
  <div class="collapse collapse-arrow bg-base-200">
    <input type="radio" name="my-accordion-2" checked="checked" /> 
    <div class="collapse-title text-xl font-medium">
      {{.title}}
    </div>
    <div class="collapse-content"> 
      <p>{{.body}}</p>
    </div>
  </div>
  {{end}}
</div>

{{block "create-note-modal" .modal}}
<dialog id="createNoteModal" class="modal">
  <div class="modal-box">
    <h3 class="mb-4 font-bold text-lg">Create Note</h3>
    <form onsubmit="createNote()" class="flex flex-col gap-4">
      <label class="input input-bordered flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z" /><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z" /></svg>
        <input autofocus name="title" type="text" class="grow" placeholder="Title" required />
      </label>

      <textarea name="body" class="grow textarea textarea-primary" placeholder="Write note here..."></textarea>
      <button class="grow btn btn-primary">Create</button>
    </form>
    {{with .error}}
    <div class="w-full bg-error/40 border border-error py-4 px-8 text-lg mt-4 card text-white">
        {{.}}
    </div>
    {{end}}
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
{{end}}
{{end}}

